# A-webcrawler-to-get-some-rated-TV-information
用python爬取时光网电视剧TOP100的数据

电视剧数据包含剧名、导演、主演和简介4个部分。

程序运用多协程爬取数据和存储数据，同时使用gevent库中的queue模块，建立两个数据队列，一个queue_url用来存储待爬取的网页url，一个queue_data存储将要写入文件的字符串列表。由于本次爬取的时光网电视剧页面url总共有10个，所以将queue_url队列中数据个数限定为10，queue_data中的字符串列表个数不确定，所以没有进行限定。

程序运行前需要安装gevent, requests, bs4库/模块

程序包含tv_list.py和analyse_str.py两个文件，运行时两个文件需要在同一个文件夹。程序入口是tv_list.py, 里面引用了analyse_str模块用来解析处理从网页里获取到的信息，主要为了去掉换行符、制表符以及多余的空格等。

爬取网站存在不确定因素，大部分电视剧有剧名、导演、主演和简介这四个信息，而有的只有剧名和主演信息，有的又只有剧名和简介信息，如此之类。因此存储进csv文件中的某些行数据会不全。在程序里应用了异常处理机制，即便有的信息不全，也保证程序可以运行下去，将存在的所有信息都存储下来。
